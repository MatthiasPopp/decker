  <script src="$decker-support-dir$/vendor/reveal/js/reveal.js"></script>
  <script src="$decker-support-dir$/vendor/videojs/video.min.js"></script>
  <script src="$decker-support-dir$/js/decker.js"></script>
  <script src="$decker-support-dir$/js/sage.js"></script>

  <script>
      // this has to be done before reveal highlight plugin is initialized
      prepareCodeHighlighting();
      prepareSAGE();
  </script>

$if(decker-engine.base-url)$
  <script type="module" crossorigin>
    import {contactEngine} from "./$decker-support-dir$/engine/engine.js";
    contactEngine("$decker-engine.base-url$", "$decker-engine.deck-id$");
  </script>
$endif$

  <script type="module">
    import {prepareExaminer} from "./$decker-support-dir$/examiner/examiner.js";
    prepareExaminer();
  </script>

$for(template.include-js)$ 
  <script src="$template.include-js$"></script>
$endfor$

$for(template.include-module)$ 
  <script type="module" src="$template.include-module$"></script>
$endfor$

  <script>
    // Full list of configuration options available at: https://revealjs.com/config/
    let revealConfig = { 
      ...Decker.meta.reveal,
      // reveal.js plugins. 
      // These are not just strings and they can not be listed in Decker.meta.reveal
      dependencies: [
          { src: String.raw`$decker-support-dir$/plugins/charts/Chart.js`},
          { src: String.raw`$decker-support-dir$/plugins/charts/plugin-errorbars.js`},
          { src: String.raw`$decker-support-dir$/plugins/charts/plugin-colorschemes.js`},
          { src: String.raw`$decker-support-dir$/plugins/charts/plugin-csszoom.js`},
          { src: String.raw`$decker-support-dir$/plugins/charts/csv2chart.js`},
          { src: String.raw`$decker-support-dir$/plugins/math/math.js` },
          { src: String.raw`$decker-support-dir$/plugins/whiteboard/whiteboard.js`},
          { src: String.raw`$decker-support-dir$/plugins/zoom/zoom.js` },
          { src: String.raw`$decker-support-dir$/plugins/print/print.js` },
          { src: String.raw`$decker-support-dir$/plugins/search/search.js`, async: true },
          { src: String.raw`$decker-support-dir$/plugins/quiz-wue/quiz-wue.js` },
          { src: String.raw`$decker-support-dir$/plugins/highlight/highlight.js` },
          { src: String.raw`$decker-support-dir$/plugins/menu/menu.js`, async: true },
          { src: String.raw`$decker-support-dir$/plugins/explain/explain.js` },
          { src: String.raw`$decker-support-dir$/vendor/reveal/plugin/notes/notes.js`, async: true }
      ]
    };
    revealConfig.math.mathjax = String.raw`$decker-support-dir$/vendor/mathjax/`;
    console.log(revealConfig)
    Reveal.initialize(revealConfig);
  </script>
